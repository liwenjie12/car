(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c028738"],{"2eb1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"track-playback"},[a("div",{attrs:{id:"amap"}}),a("el-form",{ref:"form",staticClass:"filter-form",class:{"small-form":e.smallForm},attrs:{model:e.form,"label-width":"80px"}},[a("el-row",{staticStyle:{height:"100%",overflow:"hidden",position:"relative"}},[a("el-form-item",{attrs:{label:"选择车辆"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"选择时间"}},[a("ul",{staticClass:"time-pick"},[a("li",[e._v("今天")]),a("li",[e._v("昨天")]),a("li",[e._v("前天")])])]),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{size:"mini",type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{size:"mini",type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),a("el-form-item",{attrs:{label:"静止时间"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.form.stopTime,callback:function(t){e.$set(e.form,"stopTime",t)},expression:"form.stopTime"}})],1),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"mini"}},[e._v("查询")]),a("div",{staticClass:"bottom-bar"},[a("span",[e._v("功能介绍")]),a("span",{on:{click:function(t){e.paintType="baidu"===e.paintType?"gaode":"baidu"}}},[e._v(e._s("baidu"===e.paintType?"切换到高德地图":"切换到百度地图")),a("i",{staticClass:"el-icon-arrow-right"})])])],1),e.smallForm?e._e():a("span",{staticClass:"form-up",on:{click:function(t){e.smallForm=!e.smallForm}}},[a("i",{staticClass:"el-icon-arrow-up"})]),e.smallForm?e._e():a("el-popover",{attrs:{placement:"right-start",width:"400",trigger:"click"}},[a("el-cascader-panel",{attrs:{options:e.options},model:{value:e.carName,callback:function(t){e.carName=t},expression:"carName"}}),a("span",{staticClass:"car-select",attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"el-icon-truck"})])],1),e.smallForm?a("span",{staticClass:"form-down",on:{click:function(t){e.smallForm=!e.smallForm}}},[a("i",{staticClass:"el-icon-arrow-down"})]):e._e()],1),a("div",{staticClass:"data-area",class:{"small-area":e.smallArea}},[a("div",{staticClass:"top-tool-bar"},[a("ul",{staticClass:"table-type"},[a("li",{class:{current:"track"===e.tableType},on:{click:function(t){e.tableType="track"}}},[e._v(" 轨迹详情 ")]),a("li",{class:{current:"warn"===e.tableType},on:{click:function(t){e.tableType="warn"}}},[e._v(" 报警详情 ")]),a("li",{class:{current:"stay"===e.tableType},on:{click:function(t){e.tableType="stay"}}},[e._v(" 经常停留点 ")]),a("li",{class:{current:"enclosure"===e.tableType},on:{click:function(t){e.tableType="enclosure"}}},[e._v(" 围栏 ")])]),a("ul",{staticClass:"checkbox-group"},[a("li",[e._v("显示：")]),a("li",[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("报警点")])],1),a("li",[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("轨迹")])],1),a("li",[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("经常停留点")])],1),a("li",[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("围栏")])],1)]),a("ul",{staticClass:"static-group"},[e._m(0),e._m(1),e._m(2),e._m(3),a("li",{on:{click:function(t){e.smallArea=!e.smallArea}}},[a("i",{class:e.smallArea?"el-icon-arrow-up":"el-icon-arrow-down",staticStyle:{color:"#1184e5","font-weight":"bold",cursor:"pointer"}})])])]),a("el-table",{key:e.tableType,staticStyle:{width:"100%"},attrs:{data:e.tableData}},e._l(e.tableHeaders[e.tableType],(function(e,t){return a("el-table-column",{key:t,attrs:{prop:t+"",label:e}})})),1),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{"page-size":100,"page-sizes":[100,200,300,400],layout:"prev, pager, next, total,sizes, jumper",total:0}})],1)],1)],1)},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[e._v("开始里程： "),a("span",{staticClass:"distance"},[e._v("0km")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[e._v("结束里程： "),a("span",{staticClass:"distance"},[e._v("0km")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[e._v("行驶里程： "),a("span",{staticClass:"distance"},[e._v("0km")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("i",{staticClass:"el-icon-download"}),e._v("导出")])}],n=a("5616"),c=a("b3f3"),s={track:["序号","车牌","时间","速度km/h","方向","里程","部件状态","原始经纬度","位置"],warn:["序号","报警类型","开始时间","结束时间","报警地点"],stay:["序号"],enclosure:["围栏名称"]},o={data:function(){return{carName:"",smallForm:!1,smallArea:!1,instance:null,checked:!0,paintType:"baidu",tableType:"track",form:{},tableData:[],pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},options:[{value:"zhinan",label:"至尊宝888",children:[{value:"14020843471",label:"14020843471"}]}],tableHeaders:s}},methods:{loadBaiduScript:function(){var e=document.createElement("script"),t="https://api.map.baidu.com/api?v=2.0&ak=CtCjN4fQOfMkbI9UvaxBFCyLoZ5h9XRY&services=true&callback=initializeBaidu";e.src=t,document.body.appendChild(e)},loadGaodeScript:function(){var e=document.createElement("script"),t="https://webapi.amap.com/maps?v=2.0&key=dade8b93e02e73546802e31ec0b1629f&callback=initializeGaode",a="gaode"===this.paintType?"&callback=initialize":"";e.src=t+a,document.body.appendChild(e)},loadBaiduPlugin:function(e){var t=document.createElement("script");t.src=location.origin+location.pathname+e,document.body.appendChild(t)},initMap:function(){var e=this,t="baidu"===this.paintType?n["a"]:c["a"];this.instance=new t({el:"amap",vueInstance:this,type:this.paintType,mapType:"normal"}),setTimeout((function(){e.instance.runLuShu()}),2e3)}},mounted:function(){if(!window.AMap||!window.BMap)return window.initializeBaidu=function(){"baidu"===this.paintType&&this.initMap(),this.loadBaiduPlugin("bdplugin/DrawingManager.min.js"),this.loadBaiduPlugin("bdplugin/DistanceTool.min.js"),this.loadBaiduPlugin("bdplugin/LuShu.min.js")}.bind(this),window.initializeGaode=function(){"gaode"===this.paintType&&this.initMap()}.bind(this),this.loadGaodeScript(),void this.loadBaiduScript();this.initMap()},watch:{paintType:{immediate:!1,handler:function(){this.initMap()}}},beforeDestroy:function(){this.instance.clearLuShuTimer()}},r=o,p=(a("e17b"),a("2877")),m=Object(p["a"])(r,i,l,!1,null,null,null);t["default"]=m.exports},"59b2":function(e,t,a){},e17b:function(e,t,a){"use strict";a("59b2")}}]);